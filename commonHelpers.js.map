{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(userInput) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api';\n  const params = new URLSearchParams({\n    key: '44394535-420bbb6d9539431cf03571547',\n    q: userInput,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${BASE_URL}${END_POINT}/?${params.toString()}`;\n  return fetch(url);\n}\n","function imageTemplate({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class=\"list-item\">\n    <div class=\"box-image\">\n      <a href=\"${largeImageURL}\" class=\"list-link\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" title=\"${tags}\">\n      </a>\n    </div>\n    <div class=\"stats-box\">\n      <div class=\"likes-box\">\n        <span class=\"text\">Likes</span>\n        <span class=\"value\">${likes}</span>\n      </div>\n      <div class=\"views-box\">\n        <span class=\"text\">Views</span>\n        <span class=\"value\">${views}</span>\n      </div>\n      <div class=\"comments-box\">\n        <span class=\"text\">Comments</span>\n        <span class=\"value\">${comments}</span>\n      </div>\n      <div class=\"downloads-box\">\n        <span class=\"text\">Downloads</span>\n        <span class=\"value\">${downloads}</span>\n      </div>\n    </div>\n  </li>`;\n}\nexport function imagesTemplate(imagesArr) {\n  return imagesArr.map(imageTemplate).join('');\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { imagesTemplate } from './js/render-functions';\n\nlet gallery = new SimpleLightbox('.list-item a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 200,\n});\n\nconst refs = {\n  formEl: document.querySelector('.search-box'),\n  inputEl: document.querySelector('#search-image'),\n  searchBtn: document.querySelector('.search-btn'),\n  listEl: document.querySelector('.image-list'),\n  loader: document.querySelector('.load-box'),\n};\n\nrefs.formEl.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  refs.listEl.innerHTML = '';\n\n  const userInput = refs.inputEl.value.trim();\n  if (userInput === '') {\n    return;\n  }\n\n  showLoader();\n\n  fetchImages(userInput)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(({ hits, ...obj }) => {\n      if (hits.length === 0) {\n        throw new Error();\n      }\n      const markup = imagesTemplate(hits);\n      refs.listEl.innerHTML = markup;\n      gallery.refresh();\n    })\n    .catch(err =>\n      iziToast.error({\n        theme: 'dark',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        messageSize: 16,\n        messageColor: '#fff',\n        backgroundColor: '#ef4040',\n        position: 'topRight',\n        progressBarColor: '#b51b1b',\n        maxWidth: 432,\n      })\n    )\n    .finally(() => {\n      hideLoader();\n    });\n\n  refs.formEl.reset();\n}\n\nfunction showLoader() {\n  refs.loader.classList.remove('load-box');\n}\nfunction hideLoader() {\n  refs.loader.classList.add('load-box');\n}\n"],"names":["fetchImages","userInput","BASE_URL","END_POINT","params","url","imageTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","imagesArr","gallery","SimpleLightbox","refs","onSubmitForm","e","showLoader","response","hits","obj","markup","err","iziToast","hideLoader"],"mappings":"6vBAAO,SAASA,EAAYC,EAAW,CACrC,MAAMC,EAAW,sBACXC,EAAY,OACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,KAAKC,EAAO,SAAU,CAAA,GACzD,OAAO,MAAMC,CAAG,CAClB,CCbA,SAASC,EAAc,CACrB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,iBAEQL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI,YAAYA,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAMhCC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,8BAIRC,CAAS;AAAA;AAAA;AAAA,QAIvC,CACO,SAASC,EAAeC,EAAW,CACxC,OAAOA,EAAU,IAAIT,CAAa,EAAE,KAAK,EAAE,CAC7C,CC5BA,IAAIU,EAAU,IAAIC,EAAe,eAAgB,CAC/C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAED,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,aAAa,EAC5C,QAAS,SAAS,cAAc,eAAe,EAC/C,UAAW,SAAS,cAAc,aAAa,EAC/C,OAAQ,SAAS,cAAc,aAAa,EAC5C,OAAQ,SAAS,cAAc,WAAW,CAC5C,EAEAA,EAAK,OAAO,iBAAiB,SAAUC,CAAY,EAEnD,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChBF,EAAK,OAAO,UAAY,GAExB,MAAMjB,EAAYiB,EAAK,QAAQ,MAAM,KAAI,EACrCjB,IAAc,KAIlBoB,IAEArB,EAAYC,CAAS,EAClB,KAAKqB,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAK,CAAC,CAAE,KAAAC,EAAM,GAAGC,CAAG,IAAO,CAC1B,GAAID,EAAK,SAAW,EAClB,MAAM,IAAI,MAEZ,MAAME,EAASX,EAAeS,CAAI,EAClCL,EAAK,OAAO,UAAYO,EACxBT,EAAQ,QAAO,CACrB,CAAK,EACA,MAAMU,GACLC,EAAS,MAAM,CACb,MAAO,OACP,QACE,2EACF,YAAa,GACb,aAAc,OACd,gBAAiB,UACjB,SAAU,WACV,iBAAkB,UAClB,SAAU,GAClB,CAAO,CACF,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,EAEHV,EAAK,OAAO,QACd,CAEA,SAASG,GAAa,CACpBH,EAAK,OAAO,UAAU,OAAO,UAAU,CACzC,CACA,SAASU,GAAa,CACpBV,EAAK,OAAO,UAAU,IAAI,UAAU,CACtC"}